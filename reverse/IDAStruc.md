# Перечисления, структуры и объединения в IDA Pro & Hex-Rays

IDA поддерживает работу с перечислениями (в том числе с битовыми полями), структурами  и объединениями. С помощью них она позволяет давать осмысленные имена числовым константам, определять структуры и объединения в любой выделенной памяти для приведения кода к удобочитаемому виду.



## Перечисления

Горячие клавиши в окне перечислений:

| Клавиша | Описание                                               |
| ------- | ------------------------------------------------------ |
| Insert  | Создать перечисление                                   |
| Delete  | Удалить перечисление                                   |
| Ctrl+E  | Редактировать перечисление                             |
| N       | Добавить символьную константу (член перечисления)      |
| Ctrl+N  | Редактировать символьную константу                     |
| ;       | Создать комментарий, отображающийся в коде (Text view) |
| :       | Создать комментарий, отображающийся в перечислении     |

Если при создании перечисления установить галочку "Bitfield", по нажатию на `M` в коде IDA будет интерпретировать числа как битовые поля и отображать в соответствующем виде установку флагов.

Например, будет отображать `OPT_SOME|OPT_VAL|OPT_END` вместо `7LL`.

*Примечание:* если в перечислении есть элемент со значением `0`, его не получится пометить как "Bitfield". Нужно сначала удалить этот нулевой элемент и только потом выставлять "Bitfield".



## Структуры и объединения

Горячие клавиши в окне структур:

| Клавиша         | Описание                                                     |
| --------------- | ------------------------------------------------------------ |
| Insert          | Создать структуру/объединение                                |
| Delete          | Удалить структуру/объединение                                |
| D или Alt+D/A/* | Создать член структуры/объединения в виде числа/ASCII-строки/массива |
| N               | Переименовать член структуры/объединения                     |
| U               | Удалить член структуры/объединения                           |
| Ctrl+F9         | Импортировать структуры и объединения из заголовочного файла `(*.h)` в список стандартных структур/объединений |

Для создания членов структур (объединений) нужно установить курсор на её окончание `ends` и нажать соответствующую клавишу.
