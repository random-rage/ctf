# IDA Pro & Hex-Rays

## Горячие клавиши

| Клавиша                    | Функция                                                      |
| -------------------------- | ------------------------------------------------------------ |
| N                          | Переименовать переменную/функцию/...                         |
| /                          | Вставить комментарий на той же строке                        |
| Insert                     | Вставить комментарий перед строкой                           |
| Двойной клик по переменной | Открыть место её хранения в памяти/стеке                     |
| *                          | Интерпретировать байты как массив                            |
| A или Alt+A                | Интерпретировать байты как ASCII-строку                      |
| C                          | Интерпретировать байты как код                               |
| D или Alt+D                | Сменить тип данных выделенных байтов                         |
| R                          | Интерпретировать как символы                                 |
| U                          | Удалить определение (интерпретировать как байты)             |
| Y                          | Изменить определение функции                                 |
| B и H                      | Переключение между двоичным, десятичным и шестнадцатеричным представлением числа |
| K                          | Переключение между числом и именем переменной                |
| O                          | Пометить число как смещение (адрес переменной)               |
| =                          | Заменить одну переменную другой (если их типы совпадают)     |
| Shift+-                    | Изменить знак числа на противоположный                       |
| Ctrl+Shift+T               | Открыть окно менеджера снимков состояний базы данных         |
| Shift+F12                  | Открыть окно строк                                           |
| X                          | Показать перекрёстные ссылки                                 |
| G или Ctrl+G               | Перейти по адресу                                            |
| Esc                        | Вернуться назад                                              |
| Tab                        | Переключение между ассемблерным кодом и псевдокодом          |
| F5                         | Показать/обновить псевдокод                                  |
| M                          | Интерпретировать число как значение перечисления (Enum)      |
| Shift+F10                  | Открыть окно перечислений                                    |
| Shift+F9                   | Открыть окно структур                                        |
| Ctrl+Num- и Ctrl+Num+      | Свернуть/развернуть определение перечисления или структуры   |
| Num- и Num+                | Свернуть/развернуть блок кода                                |
| E                          | Задать (изменить) конец функции                              |

Чтобы посмотреть, какие инструкции во что декомпилировались, нужно нажать `ПКМ` по пустому месту в псевдокоде > `Copy to assembly`.



## Скалярные типы данных

| Тип     | Размер (байт) | Описание                                                     |
| ------- | ------------- | ------------------------------------------------------------ |
| db      | 1             | Один байт или символ (BYTE, char)                            |
| dw      | 2             | Слово (WORD, short)                                          |
| dd      | 4             | Двойное слово или число с плавающей точкой (DWORD, int, float) |
| dq      | 8             | Четверное слово или число с плавающей точкой двойной точности (QWORD, long, double) |
| dt      | 10 или 12     | Длинное число с плавающей точкой двойной точности (TBYTE, long double, packed real) |
| xmmword | 16            | Восьмерное слово (OWORD, XMMWORD)                            |



## Ключевые слова в объявлениях типов

| Ключевое слово | Описание                                                     |
| -------------- | ------------------------------------------------------------ |
| _BOOL1         | Булев тип с явным заданием размера в 1 байт                  |
| _BOOL2         | Булев тип с явным заданием размера в 2 байта                 |
| _BOOL4         | Булев тип с явным заданием размера в 4 байта                 |
| _BOOL8         | Булев тип с явным заданием размера в 8 байтов                |
| __int8         | Целый тип с явным заданием размера в 1 байт                  |
| __int16        | Целый тип с явным заданием размера в 2 байта                 |
| __int32        | Целый тип с явным заданием размера в 4 байта                 |
| __int64        | Целый тип с явным заданием размера в 8 байтов                |
| __int128       | Целый тип с явным заданием размера в 16 байтов               |
| _BYTE          | Неизвестный тип с известным размером в 1 байт                |
| _WORD          | Неизвестный тип с известным размером в 2 байта               |
| _DWORD         | Неизвестный тип с известным размером в 4 байта               |
| _QWORD         | Неизвестный тип с известным размером в 8 байтов              |
| _OWORD         | Неизвестный тип с известным размером в 16 байтов             |
| _TBYTE         | 10-ти байтное значение с плавающей точкой                    |
| _UNKNOWN       | Неизвестный тип с неизвестным размером                       |
| __pure         | Чистая функция: всегда возвращает одно и то же значение (*для одних и тех же аргументов*) и может менять только выделенный для неё локальный фрагмент памяти |
| __noreturn     | Функция ничего не возвращает                                 |
| __hidden       | Скрытый аргумент функции (*напр*. указатель `this` в функции класса) |
| __return_ptr   | Указатель на возвращаемое значение (скрытое)                 |
| __struct_ptr   | Изначально было структурным значением                        |
| __array_ptr    | Изначально было массивом                                     |
| __usercall     | Соглашение о вызовах, определённое пользователем. Например:<br /> `int __usercall func@<ebx>(int x, int y@<esi>);`<br />обозначает, что `x` будет передан через стек, `y` - через регистр `ESI`, возвращаемое значение функции будет помещено в регистр `EBX ` ([подробнее](https://www.hex-rays.com/products/ida/support/idadoc/1361.shtml)) |
| __userpurge    | То же самое, что и `__usercall`, только подразумевает, что вызываемая функция очищает стек |
| __spoils       | Определяет список регистров, которые использует функция. Например:<br />`int __spoils<eax, bh> func(int x);`<br />обозначает, что перед вызовом функции нужно сохранить регистры `EAX` и `BH`, так как их содержимое будет перезаписано функцией. |

